@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        @apply antialiased;
        /* Prevent layout shift from scrollbar */
        scrollbar-gutter: stable;
    }w

    body {
        @apply text-gray-900 bg-gray-50;
    }
    
    /* Fallback for browsers that don't support scrollbar-gutter */
    @supports not (scrollbar-gutter: stable) {
        html {
            padding-right: calc(100vw - 100%);
        }
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-gray-100;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-400 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-500;
    }
}

@layer components {
    /* Button Styles */
    .btn {
        @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
    }

    .btn-primary {
        @apply btn bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed;
    }

    .btn-secondary {
        @apply btn bg-gray-200 text-gray-700 hover:bg-gray-300 focus:ring-gray-500;
    }

    .btn-danger {
        @apply btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
    }

    /* Input Styles */
    .input {
        @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-base;
    }

    .input-error {
        @apply input border-red-500 focus:ring-red-500;
    }

    /* Card Styles */
    .card {
        @apply bg-white rounded-xl shadow-md p-6;
    }

    .card-hover {
        @apply card hover:shadow-lg transition-shadow duration-200;
    }

    /* Badge Styles */
    .badge {
        @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
    }

    .badge-success {
        @apply badge bg-green-100 text-green-800;
    }

    .badge-warning {
        @apply badge bg-yellow-100 text-yellow-800;
    }

    .badge-danger {
        @apply badge bg-red-100 text-red-800;
    }

    .badge-info {
        @apply badge bg-blue-100 text-blue-800;
    }

    /* Alert Styles */
    .alert {
        @apply p-4 rounded-lg mb-4;
    }

    .alert-success {
        @apply alert bg-green-50 text-green-800 border border-green-200;
    }

    .alert-error {
        @apply alert bg-red-50 text-red-800 border border-red-200;
    }

    .alert-warning {
        @apply alert bg-yellow-50 text-yellow-800 border border-yellow-200;
    }

    .alert-info {
        @apply alert bg-blue-50 text-blue-800 border border-blue-200;
    }

    /* Loading Spinner */
    .spinner {
        @apply inline-block animate-spin rounded-full border-2 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite];
    }

    /* Checkbox & Radio */
    .checkbox,
    .radio {
        @apply w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 cursor-pointer;
    }

    /* Mobile-friendly tap targets */
    @media (max-width: 640px) {
        .btn {
            @apply py-3 text-base min-h-[48px];
        }

        .input {
            @apply py-3 text-base min-h-[48px];
        }

        .checkbox,
        .radio {
            @apply w-6 h-6;
        }
    }
}

@layer utilities {
    /* Safe area padding for mobile devices */
    .safe-top {
        padding-top: env(safe-area-inset-top);
    }

    .safe-bottom {
        padding-bottom: env(safe-area-inset-bottom);
    }

    .safe-left {
        padding-left: env(safe-area-inset-left);
    }

    .safe-right {
        padding-right: env(safe-area-inset-right);
    }

    /* Prevent text selection for buttons */
    .no-select {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    /* Hide scrollbar but keep functionality */
    .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .hide-scrollbar::-webkit-scrollbar {
        display: none;
    }

    /* FAQ Details styling */
    details[open] summary {
        @apply font-bold;
    }

    details[open] summary svg {
        @apply rotate-180;
    }

    details summary::-webkit-details-marker {
        display: none;
    }

    details summary {
        list-style: none;
    }
}
